
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>Raspberry Pi DuckDNS è‡ªå‹•æ›´æ–°è…³æœ¬æ•™å­¸</title>
  <style>
    body {
      font-family: "Noto Sans TC", sans-serif;
      background: #1e1e1e;
      color: #fff;
      padding: 2em;
      max-width: 900px;
      margin: auto;
      line-height: 1.7;
    }
    h1, h2 {
      color: #00e0ff;
    }
    code, pre {
      background: #2e2e2e;
      color: #c2f542;
      padding: 0.5em;
      display: block;
      border-radius: 5px;
      overflow-x: auto;
      font-family: "Courier New", monospace;
      margin-bottom: 1em;
    }
    a {
      color: #00e0ff;
    }
  </style>
</head>
<body>
  <h1>ğŸ“¡ Raspberry Pi DuckDNS è‡ªå‹•æ›´æ–°è…³æœ¬</h1>

  <h2>ğŸ§¾ 1. å»ºç«‹æ›´æ–°è…³æœ¬</h2>
  <pre><code>sudo mkdir -p /opt/duckdns
sudo nano /opt/duckdns/duckdns_updater.sh</code></pre>

  <p>è²¼å…¥ä»¥ä¸‹å…§å®¹ï¼š</p>
  <pre><code>#!/bin/bash

DOMAIN="home-vpn-02"
TOKEN="483ad0a1-81b1-426f-8d95-17172b5f7ad9"
URL="https://www.duckdns.org/update?domains=${DOMAIN}&token=${TOKEN}&ip="

LOGFILE="/var/log/duckdns_updater.log"

echo "$(date '+%Y-%m-%d %H:%M:%S') - Updating ${DOMAIN}" >> "$LOGFILE"
curl -s "$URL" >> "$LOGFILE"
echo "" >> "$LOGFILE"</code></pre>

  <h2>ğŸ” 2. è¨­å®šæ¬Šé™</h2>
  <pre><code>sudo chmod +x /opt/duckdns/duckdns_updater.sh</code></pre>

  <h2>â±ï¸ 3. åŠ å…¥æ’ç¨‹ crontab</h2>
  <pre><code>crontab -e</code></pre>
  <p>æ–°å¢ä¸€è¡Œï¼š</p>
  <pre><code>*/5 * * * * /opt/duckdns/duckdns_updater.sh</code></pre>

  <h2>ğŸ›¡ï¸ å¯é¸ï¼šåƒ…åœ¨ Tailscale å·²é€£ç·šæ™‚åŸ·è¡Œ</h2>
  <p>å¯åŠ å…¥æ¢ä»¶åˆ¤æ–·ä¿è­·ï¼š</p>
  <pre><code>if tailscale status | grep -q "100."; then
  curl -s "$URL" >> "$LOGFILE"
else
  echo "Tailscale disconnected, skipping update." >> "$LOGFILE"
fi</code></pre>

  <h2>âœ… å®Œæˆ</h2>
  <p>æ­¤è…³æœ¬å°‡æ¯ 5 åˆ†é˜è‡ªå‹•å›å ± Raspberry Pi ç•¶å‰ Public IP è‡³ DuckDNSï¼Œå³ä½¿ Site-to-Site VPN æ›æ‰ï¼Œåªè¦ Tailscale æ­£å¸¸å°±èƒ½é ç«¯æŸ¥å¾— B ç«¯ä½ç½®ã€‚</p>

</body>
</html>
